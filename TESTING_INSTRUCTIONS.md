# 🧪 تعليمات اختبار نظام التنسيق الديناميكي المبسط

## 📋 خطوات الاختبار السريع

### 1. تشغيل الخادم
```bash
python manage.py runserver
```

### 2. فتح المتصفح
- اذهب إلى: `http://127.0.0.1:8000`
- اختر أي صفحة تحتوي على جدول

### 3. فتح أدوات المطور
- اضغط `F12` أو `Ctrl+Shift+I`
- اذهب إلى تبويب `Console`

### 4. تشغيل الاختبار السريع
```javascript
quickTest()
```

## 🔧 أوامر التشخيص الجديدة

### الأوامر الأساسية
```javascript
// تشخيص شامل للنظام
debugFormatter()

// اختبار سريع (30 ثانية)
quickTest()

// اختبار شامل مع جميع الوظائف
fullTest()

// اختبار فتح النافذة
testModal()

// اختبار عناصر التحكم
testControls()

// اختبار تبديل الأنماط (عام/خاص)
testModeSwitch()

// اختبار تبديل المعاينة (إظهار/إخفاء)
testPreviewToggle()

// إعادة تهيئة النظام بالكامل
reinitializeSystem()
```

## 🎯 الميزات الجديدة المبسطة

### 1. نمط التحكم
- **تحكم عام**: إعدادات موحدة لجميع الأعمدة
- **تحكم خاص**: إعدادات فردية لكل عمود

### 2. المعاينة القابلة للإخفاء
- **معاينة**: إظهار جدول المعاينة
- **إخفاء معاينة**: إخفاء جدول المعاينة لتوفير المساحة

### 3. واجهة مبسطة
- أزرار واضحة مع أيقونات
- تنظيم أفضل للعناصر
- ألوان مميزة لكل قسم

## 🔍 ما يجب أن تراه

### ✅ النتائج المتوقعة:
```
✅ Bootstrap متوفر
📊 عدد الجداول: 1
🔘 زر التنسيق: ✅ موجود
🪟 نافذة التنسيق: ✅ موجودة
✅ النظام مُهيأ
```

### 🧪 اختبار الوظائف:

#### 1. اختبار نمط التحكم
```javascript
testModeSwitch()
```
**النتائج المتوقعة:**
- التحكم العام مرئي عند اختيار "تحكم عام"
- التحكم الخاص مرئي عند اختيار "تحكم خاص"

#### 2. اختبار المعاينة
```javascript
testPreviewToggle()
```
**النتائج المتوقعة:**
- المعاينة تختفي عند اختيار "إخفاء معاينة"
- المعاينة تظهر عند اختيار "معاينة"

## 🛠️ اختبار يدوي مبسط

### 1. فتح النافذة
- ابحث عن زر "تنسيق الجدول" 🎨
- اضغط عليه لفتح النافذة

### 2. تجربة نمط التحكم
- اختر "تحكم عام" ← يجب أن تظهر إعدادات موحدة
- اختر "تحكم خاص" ← يجب أن تظهر بطاقات للأعمدة الفردية

### 3. تجربة المعاينة
- اختر "إخفاء معاينة" ← يجب أن يختفي جدول المعاينة
- اختر "معاينة" ← يجب أن يظهر جدول المعاينة

### 4. تجربة الإعدادات
- في التحكم العام: غير حجم الخط أو العرض
- في التحكم الخاص: غير إعدادات عمود واحد
- تحقق من تحديث المعاينة فوراً

### 5. تجربة إخفاء الأعمدة
- أزل علامة ✓ من أحد الأعمدة
- تحقق من اختفائه في المعاينة

### 6. تطبيق التغييرات
- اضغط "تطبيق" ✅
- تحقق من تطبيق التغييرات على الجدول الفعلي

## ❌ حل المشاكل

### إذا لم يظهر الزر:
```javascript
// إنشاء الزر يدوياً
window.dynamicFormatter.createFormatButton()
```

### إذا لم تفتح النافذة:
```javascript
// اختبار فتح النافذة
testModal()
```

### إذا لم تعمل الأنماط:
```javascript
// اختبار تبديل الأنماط
testModeSwitch()
```

### إذا لم تعمل المعاينة:
```javascript
// اختبار المعاينة
testPreviewToggle()
```

### إذا فشل كل شيء:
```javascript
// إعادة تهيئة كاملة
reinitializeSystem()
```

## 🚀 اختبار سريع (30 ثانية)

```javascript
// نسخ ولصق هذا الكود
console.log('🚀 بدء الاختبار السريع...');
quickTest();
```

**النتائج المتوقعة:**
1. تشخيص النظام
2. فتح النافذة تلقائياً
3. اختبار جميع العناصر

## 📊 مقارنة النظام القديم vs الجديد

### النظام القديم:
- معقد ومتداخل
- صعوبة في التنقل
- مشاكل في ربط الأحداث

### النظام الجديد المبسط:
- ✅ واجهة واضحة ومنظمة
- ✅ خيارات تحكم عام/خاص
- ✅ معاينة قابلة للإخفاء
- ✅ أزرار واضحة مع أيقونات
- ✅ ألوان مميزة لكل قسم
- ✅ أداء محسن

## 🎯 نصائح للاختبار

1. **ابدأ بـ `quickTest()`** للحصول على نظرة سريعة
2. **استخدم `fullTest()`** للاختبار الشامل
3. **جرب النمطين** (عام وخاص) لفهم الفرق
4. **اختبر المعاينة** لرؤية التغييرات فوراً
5. **استخدم `reinitializeSystem()`** إذا واجهت مشاكل

## 📞 الإبلاغ عن المشاكل

إذا واجهت مشاكل، أرسل:
1. نتائج `debugFormatter()`
2. نتائج `quickTest()`
3. أي أخطاء في Console (لون أحمر)
4. خطوات إعادة إنتاج المشكلة

---

**النظام الجديد أبسط وأكثر وضوحاً! 🎉** 